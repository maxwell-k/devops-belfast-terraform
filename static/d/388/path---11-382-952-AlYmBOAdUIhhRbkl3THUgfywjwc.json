{"data":{"slide":{"html":"\n<div class=majority>\n<div>\n<span class=mono>ubuntu/variables.tf</span> is empty<br />\n<span class=mono>ubuntu/main.tf:</span>\n<p><div class=\"gatsby-highlight\">\n        <pre class=\"language-hcl\"><code><span class=\"token keyword\">provider<span class=\"token type variable\"> \"aws\" </span></span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"~> 2.2\"</span>\n  <span class=\"token property\">region</span>  <span class=\"token punctuation\">=</span> <span class=\"token string\">\"eu-west-2\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">data <span class=\"token type variable\">\"aws_ami\"</span></span> <span class=\"token string\">\"selected\"</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">most_recent</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span>\n\n  <span class=\"token keyword\">filter</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">name</span>   <span class=\"token punctuation\">=</span> <span class=\"token string\">\"name\"</span>\n    <span class=\"token property\">values</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"ubuntu/images/hvm-ssd/ubuntu-bionic-18.04-amd64-server-*\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">filter</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">name</span>   <span class=\"token punctuation\">=</span> <span class=\"token string\">\"virtualization-type\"</span>\n    <span class=\"token property\">values</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"hvm\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token property\">owners</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"099720109477\"</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># Canonical</span>\n<span class=\"token punctuation\">}</span></code></pre>\n        </div> <a href=\"/devops-belfast-terraform/recorded/ubuntu.html\">Recording</a></p>\n</div><div><span class=mono>ubuntu/outputs.tf:</span>\n<p><div class=\"gatsby-highlight\">\n        <pre class=\"language-hcl\"><code><span class=\"token keyword\">output<span class=\"token type variable\"> \"id\" </span></span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">value</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">$</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">data</span><span class=\"token punctuation\">.</span><span class=\"token type variable\">aws_ami</span><span class=\"token punctuation\">.</span>selected<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span>\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">output<span class=\"token type variable\"> \"user\" </span></span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">value</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"ubuntu\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">output<span class=\"token type variable\"> \"python\" </span></span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">value</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"/usr/bin/python3\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n        </div></p>\n<div class=\"gatsby-highlight\" data-language=\"hcl\"><pre class=\"language-hcl\"><code class=\"language-hcl\"><span class=\"token keyword\">module<span class=\"token type variable\"> \"ami\" </span></span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">source</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"../../modules/ubuntu\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">resource <span class=\"token type variable\">\"aws_instance\"</span></span> <span class=\"token string\">\"control\"</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">ami</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">$</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">module</span><span class=\"token punctuation\">.</span><span class=\"token type variable\">ami</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span>\"</span>\nâœ‚</code></pre></div>\n</div>\n</div>\n<!--\n\nCan apply this module:\n\ncd ~/terraform/ubuntu\nterraform init\nterraform apply\n\n-->\n","index":11}},"pageContext":{"index":11,"absolutePath":"/home/chronos/terraform/src/slides#11"}}